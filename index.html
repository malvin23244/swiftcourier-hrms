<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Creation, Save Read Example</title>
</head>
<body>
    <h1>File Writing and Reading Example</h1>
 
    <!--Step 1: User to enter the content to save to the file-->
    <textarea id="textInput" placeholder="Write something here..."></textarea>
    <button onclick="saveFile()">Save File</button>
 
    <hr>
 
     <!--Step 2: User selects a text file to read-->
     <input type="file"  id="fileInput" accept=".txt">
     <div id="output">File contents will appear here.....</div>
 
     <script>
        function saveFile(){
            //Get the text from the textarea
            const text = document.getElementById("textInput").value;
 
            //Create a Blob(binary large object) from the text
            const blob = new Blob([text], { type: "text/plain"});
 
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob); //Create a file URL from blob
 
            link.download = "Loco.txt"; //Name of the saved file
 
            link.click();
 
            URL.revokeObjectURL(link.href);
            //Free up memory after download link is used.
 
        }
 
        const fileInput = document.getElementById("fileInput"); //file input element
 
        const output = document.getElementById("output");
 
        fileInput.addEventListener("change", function () {
 
        const file = fileInput.files[0];
 
        if (file) {
            const reader = new FileReader(); // create a file reader obj
 
            reader.onload = function (e) {
                //Display the file content in the #output div
                output.textContent = e.target.result;
 
            };
 
            //Read the file as plain text
            reader.readAsDataURL(file);
        }
 
        });
     </script>
   
</body>
</html>
